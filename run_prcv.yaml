env: tadtr
model: ZeroShotTAL

Zero-Shot:
    split_75:
        clip:
            activitynet1.3: 
              prompt:     
                ConditionalDETR: 
                  base:   
                    CUDA_VISIBLE_DEVICES=0 python main.py --model_name "prcv_ActivityNet13_base" --cfg_path "./config/ActivityNet13_CLIP_zs_75.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 5 --enc_layers 2 --dec_layers 2 --enable_backbone --lr_backbone 1e-2    
                  base + actionness:
                    CUDA_VISIBLE_DEVICES=1 python main.py --model_name "prcv_ActivityNet13_base_act" --cfg_path "./config/ActivityNet13_CLIP_zs_75.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 5 --enc_layers 2 --dec_layers 2 --enable_backbone --lr_backbone 1e-2 --actionness_loss
                  base + actionness + distillation:
                    CUDA_VISIBLE_DEVICES=2 python main.py --model_name "prcv_ActivityNet13_base_act_dis" --cfg_path "./config/ActivityNet13_CLIP_zs_75.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 5 --enc_layers 2 --dec_layers 2 --enable_backbone --lr_backbone 1e-2 --actionness_loss --distillation_loss --distillation_loss_coef 0.1
                  base + actionness + distillation:
                    CUDA_VISIBLE_DEVICES=3 python main.py --model_name "prcv_ActivityNet13_base_act_dis_1" --cfg_path "./config/ActivityNet13_CLIP_zs_75.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 5 --enc_layers 2 --dec_layers 2 --actionness_loss --distillation_loss --distillation_loss_coef 0.1
                  base + actionness + distillation + salient:
                    CUDA_VISIBLE_DEVICES=4 python main.py --model_name "prcv_ActivityNet13_base_act_dis_sal" --cfg_path "./config/ActivityNet13_CLIP_zs_75.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 5 --enc_layers 2 --dec_layers 2 --enable_backbone --lr_backbone 1e-2 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --salient_loss

                DeformableDETR:
                  # base
                  CUDA_VISIBLE_DEVICES=0 python main.py --model_name "prcv_deform_ActivityNet13_base" --cfg_path "./config/ActivityNet13_CLIP_zs_75.yaml" --save_result --detr_architecture "DeformableDetr" --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 5 --enc_layers 2 --dec_layers 2 --enable_backbone --lr_backbone 1e-2    
                  # base + actionness
                  CUDA_VISIBLE_DEVICES=1 python main.py --model_name "prcv_deform_ActivityNet13_base_act" --cfg_path "./config/ActivityNet13_CLIP_zs_75.yaml" --save_result --detr_architecture "DeformableDetr" --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 5 --enc_layers 2 --dec_layers 2 --enable_backbone --lr_backbone 1e-2 --actionness_loss
                  # base + actionness + distillation
                  CUDA_VISIBLE_DEVICES=2 python main.py --model_name "prcv_deform_ActivityNet13_base_act_dis" --cfg_path "./config/ActivityNet13_CLIP_zs_75.yaml" --save_result --detr_architecture "DeformableDetr" --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 5 --enc_layers 2 --dec_layers 2 --enable_backbone --lr_backbone 1e-2 --actionness_loss --distillation_loss --distillation_loss_coef 0.1
                  # base + actionness + distillation : 去掉backbone
                  CUDA_VISIBLE_DEVICES=1 python main.py --model_name "prcv_deform_ActivityNet13_base_act_dis_1" --cfg_path "./config/ActivityNet13_CLIP_zs_75.yaml" --save_result --detr_architecture "DeformableDetr" --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 5 --enc_layers 2 --dec_layers 2 --actionness_loss --distillation_loss --distillation_loss_coef 0.1
                  # base + actionness + distillation + salient
                  CUDA_VISIBLE_DEVICES=2 python main.py --model_name "prcv_deform_ActivityNet13_base_act_dis_sal" --cfg_path "./config/ActivityNet13_CLIP_zs_75.yaml" --save_result --detr_architecture "DeformableDetr" --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 5 --enc_layers 2 --dec_layers 2 --enable_backbone --lr_backbone 1e-2 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --salient_loss
            thumos14:
              prompt:
                ConditionalDETR:
                  base:
                    CUDA_VISIBLE_DEVICES=3 python main.py --model_name "prcv_Thumos14_base" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5
                  base + actionness:
                    CUDA_VISIBLE_DEVICES=4 python main.py --model_name "prcv_Thumos14_base_act" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss
                  base + actionness + distillation:
                    # basic
                    CUDA_VISIBLE_DEVICES=5 python main.py --model_name "prcv_Thumos14_base_act_dis" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1
                    
                    # --enable_ensemble --ensemble_rate 0
                    CUDA_VISIBLE_DEVICES=0 python main.py --model_name "prcv_Thumos14_base_act_dis_ensem_1" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --enable_ensemble --ensemble_rate 0.0
                    # --enable_ensemble --ensemble_rate 0.25
                    CUDA_VISIBLE_DEVICES=1 python main.py --model_name "prcv_Thumos14_base_act_dis_ensem_2" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --enable_ensemble --ensemble_rate 0.25
                    # --enable_ensemble --ensemble_rate 0.5
                    CUDA_VISIBLE_DEVICES=2 python main.py --model_name "prcv_Thumos14_base_act_dis_ensem_3" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --enable_ensemble --ensemble_rate 0.5
                    # --enable_ensemble --ensemble_rate 0.75
                    CUDA_VISIBLE_DEVICES=3 python main.py --model_name "prcv_Thumos14_base_act_dis_ensem_4" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --enable_ensemble --ensemble_rate 0.75
                    # --enable_ensemble --ensemble_rate 0 --ensemble_strategy "geomethric"
                    CUDA_VISIBLE_DEVICES=4 python main.py --model_name "prcv_Thumos14_base_act_dis_ensem_5" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --enable_ensemble --ensemble_rate 0.0 --ensemble_strategy "geomethric"
                    # --enable_ensemble --ensemble_rate 0.25 --ensemble_strategy "geomethric"
                    CUDA_VISIBLE_DEVICES=5 python main.py --model_name "prcv_Thumos14_base_act_dis_ensem_6" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --enable_ensemble --ensemble_rate 0.25 --ensemble_strategy "geomethric"
                    # --enable_ensemble --ensemble_rate 0.5 --ensemble_strategy "geomethric"
                    CUDA_VISIBLE_DEVICES=6 python main.py --model_name "prcv_Thumos14_base_act_dis_ensem_7" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --enable_ensemble --ensemble_rate 0.5 --ensemble_strategy "geomethric"
                    # --enable_ensemble --ensemble_rate 0.75 --ensemble_strategy "geomethric"
                    CUDA_VISIBLE_DEVICES=7 python main.py --model_name "prcv_Thumos14_base_act_dis_ensem_8" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --enable_ensemble --ensemble_rate 0.75 --ensemble_strategy "geomethric"
                  base + actionness + distillation + salient:
                    CUDA_VISIBLE_DEVICES=6 python main.py --model_name "prcv_Thumos14_base_act_dis_sal" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --salient_loss --salient_loss_coef 2
                  base + actionness + distillation + salient + dynamic_fusion:
                    # --enable_element
                    CUDA_VISIBLE_DEVICES=0 python main.py --model_name "prcv_Thumos14_base_act_dis_sal_dyn" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --salient_loss --salient_loss_coef 2 --enable_element
                    # --enable_element --element_rate 0.9
                    CUDA_VISIBLE_DEVICES=1 python main.py --model_name "prcv_Thumos14_base_act_dis_sal_dyn_1" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --salient_loss --salient_loss_coef 2 --enable_element --element_rate 0.9
                    # --enable_element --element_rate 0.75
                    CUDA_VISIBLE_DEVICES=2 python main.py --model_name "prcv_Thumos14_base_act_dis_sal_dyn_2" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --salient_loss --salient_loss_coef 2 --enable_element --element_rate 0.75
                    # --enable_element --element_rate 0.6
                    CUDA_VISIBLE_DEVICES=3 python main.py --model_name "prcv_Thumos14_base_act_dis_sal_dyn_3" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --salient_loss --salient_loss_coef 2 --enable_element --element_rate 0.6
                    # --enable_element --element_rate 0.5
                    CUDA_VISIBLE_DEVICES=4 python main.py --model_name "prcv_Thumos14_base_act_dis_sal_dyn_4" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --salient_loss --salient_loss_coef 2 --enable_element --element_rate 0.5
                    # --enable_element --element_rate 0.3
                    CUDA_VISIBLE_DEVICES=5 python main.py --model_name "prcv_Thumos14_base_act_dis_sal_dyn_5" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --salient_loss --salient_loss_coef 2 --enable_element --element_rate 0.3
                    # --enable_element --element_rate 0.1
                    CUDA_VISIBLE_DEVICES=6 python main.py --model_name "prcv_Thumos14_base_act_dis_sal_dyn_6" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --salient_loss --salient_loss_coef 2 --enable_element --element_rate 0.1
                    # --enable_element --element_rate 0.05
                    CUDA_VISIBLE_DEVICES=7 python main.py --model_name "prcv_Thumos14_base_act_dis_sal_dyn_7" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --salient_loss --salient_loss_coef 2 --enable_element --element_rate 0.05
                DeformableDETR:
                  # base
                  CUDA_VISIBLE_DEVICES=7 python main.py --model_name "prcv_deform_Thumos14_base" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --detr_architecture "DeformableDetr" --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 
                  # base + actionness
                  CUDA_VISIBLE_DEVICES=1 python main.py --model_name "prcv_deform_Thumos14_base_act" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --detr_architecture "DeformableDetr" --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss
                  # base + actionness + distillation 
                  CUDA_VISIBLE_DEVICES=2 python main.py --model_name "prcv_deform_Thumos14_base_act_dis" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --detr_architecture "DeformableDetr" --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 
                  # base + actionness + distillation + salient
                  CUDA_VISIBLE_DEVICES=0 python main.py --model_name "prcv_deform_Thumos14_base_act_dis_sal" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --detr_architecture "DeformableDetr" --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --distillation_loss --distillation_loss_coef 0.1 --salient_loss --salient_loss_coef 2


    split_50:
        clip:
            activitynet1.3: 
              prompt:                   
            thumos14: 
              prompt:

conda activate tadtr
cd ZeroShotTAL


CUDA_VISIBLE_DEVICES=4 python main.py --model_name "prcv_Thumos14_debug" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --compact_loss

CUDA_VISIBLE_DEVICES=4 python main.py --model_name "prcv_deform_Thumos14_debug" --cfg_path "./config/Thumos14_CLIP_zs_75_8frame.yaml" --save_result --detr_architecture "DeformableDetr" --batch_size 16 --lr 1e-4 --epochs 100 --num_queries 40 --enc_layers 2 --dec_layers 5 --actionness_loss --compact_loss